<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wearopia – Product Details</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="./CSS/navbar.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --brand: #198754;
      --muted: #6C7275;
      --bg: #FFF;
    }
    
    body {
      font-family: "Inter", system-ui, Arial;
      background: var(--bg);
      color: #111;
      margin: 0;
    }

    .container-custom {
      max-width: 1280px;
      margin: 40px auto;
      padding: 0 24px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 64px;
      align-items: start;
    }

    /* Product Images */
    .product-images {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .main-image {
      width: 100%;
      border-radius: 16px;
      max-height: 500px;
      object-fit: cover;
      background: #F3F5F7;
    }

    .thumbs-container {
      display: flex;
      gap: 12px;
    }

    .thumb {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
      object-fit: cover;
    }

    .thumb:hover {
      border-color: var(--brand);
    }

    .thumb.active {
      border-color: var(--brand);
    }

    /* Product Info */
    .product-info {
      padding-top: 20px;
    }

    .product-title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 16px;
      color: #000;
    }

    .rating-wrapper {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .stars {
      color: #FFB800;
      font-size: 18px;
    }

    .reviews-count {
      color: var(--muted);
      font-size: 14px;
    }

    .price-wrapper {
      display: flex;
      align-items: baseline;
      gap: 16px;
      margin-bottom: 24px;
    }

    .current-price {
      font-size: 32px;
      font-weight: 700;
      color: #000;
    }

    .old-price {
      font-size: 20px;
      color: var(--muted);
      text-decoration: line-through;
    }

    /* Color Selection */
    .selection-section {
      margin-bottom: 24px;
    }

    .selection-label {
      font-size: 14px;
      font-weight: 600;
      color: #000;
      margin-bottom: 12px;
    }

    .color-circles {
      display: flex;
      gap: 12px;
    }

    .color-circle {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid #E8ECEF;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .color-circle:hover {
      transform: scale(1.1);
    }

    .color-circle.active {
      border-color: var(--brand);
      box-shadow: 0 0 0 2px white, 0 0 0 4px var(--brand);
    }

    /* Size Selection */
    .size-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .size-btn {
      min-width: 60px;
      height: 44px;
      border: 1px solid #E8ECEF;
      background: white;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .size-btn:hover {
      border-color: var(--brand);
    }

    .size-btn.active {
      background: var(--brand);
      color: white;
      border-color: var(--brand);
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 16px;
      margin: 32px 0;
    }

    .btn-add-cart {
      flex: 1;
      height: 52px;
      background: var(--brand);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.3s;
    }

    .btn-add-cart:hover {
      background: #146c43;
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(25, 135, 84, 0.3);
    }

    .btn-wishlist {
      width: 52px;
      height: 52px;
      background: white;
      border: 1px solid #E8ECEF;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .btn-wishlist:hover {
      border-color: var(--brand);
      color: var(--brand);
    }

    .free-shipping-badge {
      background: #F3F5F7;
      padding: 16px;
      border-radius: 8px;
      font-size: 14px;
      color: var(--muted);
    }

    /* Toast */
    .toast-container {
      position: fixed;
      top: 24px;
      right: 24px;
      z-index: 9999;
    }

    .toast-custom {
      background: white;
      border-radius: 12px;
      padding: 16px 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 320px;
      animation: slideIn 0.3s ease;
    }

    .toast-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      background: rgba(25, 135, 84, 0.1);
      color: var(--brand);
      font-size: 20px;
    }

    .toast-content strong {
      font-size: 14px;
      color: #000;
      display: block;
      margin-bottom: 4px;
    }

    .toast-content div {
      font-size: 13px;
      color: var(--muted);
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOut {
      to {
        opacity: 0;
        transform: translateX(400px);
      }
    }

    @media (max-width: 768px) {
      .product-grid {
        grid-template-columns: 1fr;
        gap: 32px;
      }

      .product-title {
        font-size: 24px;
      }

      .current-price {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<!-- Navbar -->
<div class="navbar-wrapper">
  <nav class="navbar">
    <button class="menu-toggle" id="menuToggle" aria-label="Menu">
      <i class="bi bi-list"></i>
    </button>
    <a href="index.html" class="navbar-brand">Wearopia</a>
    <ul class="navbar-menu">
      <li><a href="#">Man</a></li>
      <li><a href="#">Women</a></li>
      <li><a href="#">Kids</a></li>
      <li><a href="#">Accessory</a></li>
    </ul>
    <div class="search-container">
      <i class="bi bi-search search-icon"></i>
      <input type="text" class="search-box" placeholder="Search for outfits...">
    </div>
    <div class="navbar-actions">
      <a href="login.html" id="loginBtn">
        <i class="bi bi-box-arrow-in-right"></i>
        <span>Login</span>
      </a>
      <a href="#" id="wishlistBtn">
        <i class="bi bi-heart"></i>
        <span>Wishlist</span>
        <span class="badge-count" id="wishlistCount">0</span>
      </a>
      <a href="shopping-cart.html" id="cartBtn">
        <i class="bi bi-bag"></i>
        <span>Cart</span>
        <span class="badge-count" id="cartCount">0</span>
      </a>
    </div>
    <div class="mobile-dropdown" id="mobileMenu">
      <ul>
        <li><a href="#">Man</a></li>
        <li><a href="#">Women</a></li>
        <li><a href="#">Kids</a></li>
        <li><a href="#">Accessory</a></li>
      </ul>
      <div class="mobile-search">
        <i class="bi bi-search search-icon"></i>
        <input type="text" class="search-box" placeholder="Search for outfits...">
      </div>
    </div>
  </nav>
</div>

<div class="container-custom">
  <div class="product-grid">
    <!-- Product Images -->
    <div class="product-images">
      <img id="mainImage" class="main-image" src="Images/shoes.png" alt="Product">
      <div class="thumbs-container">
        <img src="Images/shoes.png" class="thumb active" data-src="Images/shoes.png" alt="Thumb 1">
        <img src="Images/black t-shirt.png" class="thumb" data-src="Images/black t-shirt.png" alt="Thumb 2">
        <img src="Images/Image.png" class="thumb" data-src="Images/Image.png" alt="Thumb 3">
      </div>
    </div>

    <!-- Product Info -->
    <div class="product-info">
      <h1 class="product-title">Grey Acid Wash Wide Leg Jogger</h1>
      
      <div class="rating-wrapper">
        <div class="stars">
          <i class="bi bi-star-fill"></i>
          <i class="bi bi-star-fill"></i>
          <i class="bi bi-star-fill"></i>
          <i class="bi bi-star-fill"></i>
          <i class="bi bi-star-half"></i>
        </div>
        <span class="reviews-count">4.5 (212 reviews)</span>
      </div>

      <div class="price-wrapper">
        <div class="current-price">$215.00</div>
        <div class="old-price">$290.00</div>
      </div>

      <!-- Color Selection -->
      <div class="selection-section">
        <div class="selection-label">Color: <span id="selectedColor">Black</span></div>
        <div class="color-circles">
          <button class="color-circle active" data-color="Black" style="background: #111;"></button>
          <button class="color-circle" data-color="Navy" style="background: #1f3a93;"></button>
          <button class="color-circle" data-color="Grey" style="background: #888;"></button>
          <button class="color-circle" data-color="White" style="background: #fff; border: 2px solid #E8ECEF;"></button>
        </div>
      </div>

      <!-- Size Selection -->
      <div class="selection-section">
        <div class="selection-label">Size:</div>
        <div class="size-buttons">
          <button class="size-btn active" data-size="XS">XS</button>
          <button class="size-btn" data-size="S">S</button>
          <button class="size-btn" data-size="M">M</button>
          <button class="size-btn" data-size="L">L</button>
          <button class="size-btn" data-size="XL">XL</button>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button id="addToCartBtn" class="btn-add-cart">
          <i class="bi bi-cart3"></i>
          Add to Cart
        </button>
        <button id="addToWishlistBtn" class="btn-wishlist">
          <i class="bi bi-heart"></i>
        </button>
      </div>

      <div class="free-shipping-badge">
        <i class="bi bi-truck"></i> Free express & returns on orders over $35
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Storage keys
const CART_KEY = 'wearopia_cart_v1';
const WISHLIST_KEY = 'wearopia_wishlist';

// Product data
const product = {
  id: 'prod_jogger_001',
  name: 'Grey Acid Wash Wide Leg Jogger',
  price: 215.00,
  image: 'Images/shoes.png',
  color: 'Black',
  size: 'XS'
};

// Load cart
function loadCart() {
  try {
    const raw = localStorage.getItem(CART_KEY);
    return raw ? JSON.parse(raw) : { items: [] };
  } catch {
    return { items: [] };
  }
}

// Save cart
function saveCart(state) {
  localStorage.setItem(CART_KEY, JSON.stringify(state));
  updateBadges();
}

// Load wishlist
function loadWishlist() {
  try {
    const raw = localStorage.getItem(WISHLIST_KEY);
    return raw ? JSON.parse(raw) : [];
  } catch {
    return [];
  }
}

// Save wishlist
function saveWishlist(arr) {
  localStorage.setItem(WISHLIST_KEY, JSON.stringify(arr));
  updateBadges();
}

// Update badges
function updateBadges() {
  const cart = loadCart();
  const qty = cart.items.reduce((s, i) => s + i.qty, 0);
  document.getElementById('cartCount').textContent = qty;
  if (qty > 0) document.getElementById('cartCount').classList.add('show');

  const wl = loadWishlist();
  document.getElementById('wishlistCount').textContent = wl.length;
  if (wl.length > 0) document.getElementById('wishlistCount').classList.add('show');
}

// Show toast
function showToast(title, msg) {
  const container = document.getElementById('toastContainer');
  const toast = document.createElement('div');
  toast.className = 'toast-custom';
  toast.innerHTML = `
    <div class="toast-icon">✓</div>
    <div class="toast-content">
      <strong>${title}</strong>
      <div>${msg}</div>
    </div>
  `;
  container.appendChild(toast);
  
  setTimeout(() => {
    toast.style.animation = 'slideOut 0.3s ease forwards';
    setTimeout(() => toast.remove(), 300);
  }, 3000);
}

// Thumbnail clicks
document.querySelectorAll('.thumb').forEach(thumb => {
  thumb.addEventListener('click', function() {
    document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
    this.classList.add('active');
    document.getElementById('mainImage').src = this.dataset.src;
  });
});

// Color selection
document.querySelectorAll('.color-circle').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.color-circle').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    const color = this.dataset.color;
    document.getElementById('selectedColor').textContent = color;
    product.color = color;
  });
});

// Size selection
document.querySelectorAll('.size-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    product.size = this.dataset.size;
  });
});

// Add to cart
document.getElementById('addToCartBtn').addEventListener('click', () => {
  const state = loadCart();
  const existing = state.items.find(i => 
    i.id === product.id && 
    i.size === product.size && 
    i.color === product.color
  );
  
  if (existing) {
    existing.qty += 1;
  } else {
    state.items.push({
      id: product.id,
      name: product.name,
      price: product.price,
      image: product.image,
      qty: 1,
      size: product.size,
      variant: `Color: ${product.color}`
    });
  }
  
  saveCart(state);
  showToast('Added to cart', `${product.name} • ${product.size}`);
});

// Add to wishlist
document.getElementById('addToWishlistBtn').addEventListener('click', () => {
  const wl = loadWishlist();
  if (!wl.includes(product.id)) {
    wl.push(product.id);
    saveWishlist(wl);
    showToast('Added to wishlist', 'You can view it in your wishlist');
  } else {
    showToast('Already in wishlist', 'This product is already in your wishlist');
  }
});

// Navbar mobile toggle
const menuToggle = document.getElementById('menuToggle');
const mobileMenu = document.getElementById('mobileMenu');

menuToggle.addEventListener('click', () => {
  mobileMenu.classList.toggle('show');
  const icon = menuToggle.querySelector('i');
  if (mobileMenu.classList.contains('show')) {
    icon.classList.remove('bi-list');
    icon.classList.add('bi-x');
  } else {
    icon.classList.remove('bi-x');
    icon.classList.add('bi-list');
  }
});

// Initialize
updateBadges();
</script>

</body>
</html>